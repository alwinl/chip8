; Disasembly of TETRIS
; Generated by chidisas8
;

	.ORG 0x200

		LD   I, DATA0
		CALL FUNC10
		CALL FUNC4
LABEL0:
		ADD  V0, 0x01
		DRW  V0, V1, 1
		SE   V0, 0x25
		JP   LABEL0
LABEL1:
		ADD  V1, 0xFF
		DRW  V0, V1, 1
		LD   V0, 0x1A
		DRW  V0, V1, 1
		LD   V0, 0x25
		SE   V1, 0x00
		JP   LABEL1
LABEL2:
		RND  V4, 0x70
		SNE  V4, 0x70
		JP   LABEL2
		RND  V3, 0x03
		LD   V0, 0x1E
		LD   V1, 0x03
		CALL FUNC0
LABEL3:
		LD   DT, V5
		DRW  V0, V1, 4
		SE   VF, 0x01
		JP   LABEL4
		DRW  V0, V1, 4
		ADD  V1, 0xFF
		DRW  V0, V1, 4
		CALL FUNC6
		JP   LABEL2
LABEL4:
		SKNP V7
		CALL FUNC1
		SKNP V8
		CALL FUNC2
		SKNP V9
		CALL FUNC3
		SKP  V2
		JP   LABEL5
		LD   V6, 0x00
		LD   DT, V6
LABEL5:
		LD   V6, DT
		SE   V6, 0x00
		JP   LABEL4
		DRW  V0, V1, 4
		ADD  V1, 0x01
		JP   LABEL3
FUNC0:
		LD   I, DATA1
		ADD  I, V4
		LD   V6, 0x00
		SNE  V3, 0x01
		LD   V6, 0x04
		SNE  V3, 0x02
		LD   V6, 0x08
		SNE  V3, 0x03
		LD   V6, 0x0C
		ADD  I, V6
		RET  
FUNC1:
		DRW  V0, V1, 4
		ADD  V0, 0xFF
		CALL FUNC5
		SE   VF, 0x01
		RET  
		DRW  V0, V1, 4
		ADD  V0, 0x01
		CALL FUNC5
		RET  
FUNC2:
		DRW  V0, V1, 4
		ADD  V0, 0x01
		CALL FUNC5
		SE   VF, 0x01
		RET  
		DRW  V0, V1, 4
		ADD  V0, 0xFF
		CALL FUNC5
		RET  
FUNC3:
		DRW  V0, V1, 4
		ADD  V3, 0x01
		SNE  V3, 0x04
		LD   V3, 0x00
		CALL FUNC0
		CALL FUNC5
		SE   VF, 0x01
		RET  
		DRW  V0, V1, 4
		ADD  V3, 0xFF
		SNE  V3, 0xFF
		LD   V3, 0x03
		CALL FUNC0
		CALL FUNC5
		RET  
DATA0:
		.DB  0x80 0x00  ; ..
FUNC4:
		LD   V7, 0x05
		LD   V8, 0x06
		LD   V9, 0x04
		LD   V1, 0x1F
		LD   V5, 0x10
		LD   V2, 0x07
		RET  
DATA1:
		.DB  0x40 0xE0 0x00 0x00 0x40 0xC0 0x40 0x00 0x00 0xE0 0x40 0x00 0x40 0x60 0x40 0x00 0x40 0x40 0x60 0x00 0x20 0xE0 0x00 0x00 0xC0 0x40 0x40 0x00 0x00 0xE0 0x80 0x00 0x40 0x40 0xC0 0x00 0x00 0xE0 0x20 0x00 0x60 0x40 0x40 0x00 0x80 0xE0 0x00 0x00 0x40 0xC0 0x80 0x00 0xC0 0x60 0x00 0x00 0x40 0xC0 0x80 0x00 0xC0 0x60 0x00 0x00 0x80 0xC0 0x40 0x00 0x00 0x60 0xC0 0x00 0x80 0xC0 0x40 0x00 0x00 0x60 0xC0 0x00 0xC0 0xC0 0x00 0x00 0xC0 0xC0 0x00 0x00 0xC0 0xC0 0x00 0x00 0xC0 0xC0 0x00 0x00 0x40 0x40 0x40 0x40 0x00 0xF0 0x00 0x00 0x40 0x40 0x40 0x40 0x00 0xF0 0x00 0x00  ; @...@.@...@.@`@.@@`. ....@@.....@@.... .`@@.....@....`..@....`....@..`....@..`..................@@@@....@@@@....
FUNC5:
		DRW  V0, V1, 4
		LD   V6, 0x35
LABEL6:
		ADD  V6, 0xFF
		SE   V6, 0x00
		JP   LABEL6
		RET  
FUNC6:
		LD   I, DATA0
		LD   VC, V1
		SE   VC, 0x1E
		ADD  VC, 0x01
		SE   VC, 0x1E
		ADD  VC, 0x01
		SE   VC, 0x1E
		ADD  VC, 0x01
LABEL7:
		CALL FUNC7
		SNE  VB, 0x0A
		CALL FUNC8
		SNE  V1, VC
		RET  
		ADD  V1, 0x01
		JP   LABEL7
FUNC7:
		LD   V0, 0x1B
		LD   VB, 0x00
LABEL8:
		DRW  V0, V1, 1
		SE   VF, 0x00
		ADD  VB, 0x01
		DRW  V0, V1, 1
		ADD  V0, 0x01
		SE   V0, 0x25
		JP   LABEL8
		RET  
FUNC8:
		LD   V0, 0x1B
LABEL9:
		DRW  V0, V1, 1
		ADD  V0, 0x01
		SE   V0, 0x25
		JP   LABEL9
		LD   VE, V1
		LD   VD, VE
		ADD  VE, 0xFF
LABEL10:
		LD   V0, 0x1B
		LD   VB, 0x00
LABEL11:
		DRW  V0, VE, 1
		SE   VF, 0x00
		JP   LABEL12
		DRW  V0, VE, 1
		JP   LABEL13
LABEL12:
		DRW  V0, VD, 1
		ADD  VB, 0x01
LABEL13:
		ADD  V0, 0x01
		SE   V0, 0x25
		JP   LABEL11
		SNE  VB, 0x00
		JP   LABEL14
		ADD  VD, 0xFF
		ADD  VE, 0xFF
		SE   VD, 0x01
		JP   LABEL10
LABEL14:
		CALL FUNC9
		SE   VF, 0x01
		CALL FUNC9
		ADD  VA, 0x01
		CALL FUNC9
		LD   V0, VA
		LD   VD, 0x07
		AND  V0, VD
		SNE  V0, 0x04
		ADD  V5, 0xFE
		SNE  V5, 0x02
		LD   V5, 0x04
		RET  
FUNC9:
		LD   I, DATA2
		LD   [I], V0 - V2
		LD   I, DATA3
		LD   [I], BCD[VA]
		LD   V0 - V2, [I]
		LD   I, &CHR[V0]
		LD   VD, 0x32
		LD   VE, 0x00
		DRW  VD, VE, 5
		ADD  VD, 0x05
		LD   I, &CHR[V1]
		DRW  VD, VE, 5
		ADD  VD, 0x05
		LD   I, &CHR[V2]
		DRW  VD, VE, 5
		LD   I, DATA2
		LD   V0 - V2, [I]
		LD   I, DATA0
		RET  
FUNC10:
		LD   VA, 0x00
		LD   V0, 0x19
		RET  
		.DB  0x37 0x23  ; 7#
