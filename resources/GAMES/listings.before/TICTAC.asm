; Disasembly of TICTAC
; Generated by chidisas8
;

	.ORG 0x200

		JP   LABEL0
		.DB  0x54 0x49 0x43 0x54 0x41 0x43 0x20 0x62 0x79 0x20 0x44 0x61 0x76 0x69 0x64 0x20 0x57 0x49 0x4E 0x54 0x45 0x52  ; TICTAC by David WINTER
LABEL0:
		LD   VB, 0x00
		LD   VC, 0x00
LABEL1:
		LD   V0, VB
		LD   V1, VC
		LD   I, DATA7
		LD   [I], V0 - V1
		LD   I, DATA5
		LD   V0 - VF, [I]
		LD   I, DATA4
		LD   [I], V0 - VF
		LD   I, DATA7
		LD   V0 - V1, [I]
		LD   VB, V0
		LD   VC, V1
		CLS  
		LD   VE, 0x01
		LD   V0, 0x13
		LD   V1, 0x03
		LD   I, DATA0
LABEL2:
		DRW  V0, V1, 1
		ADD  V0, 0x08
		SE   V0, 0x2B
		JP   LABEL2
		LD   V0, 0x13
		ADD  V1, 0x08
		SE   V1, 0x23
		JP   LABEL2
		LD   V0, 0x13
		LD   V1, 0x03
		LD   I, DATA1
LABEL3:
		DRW  V0, V1, 15
		ADD  V0, 0x08
		SE   V0, 0x33
		JP   LABEL3
		LD   V0, 0x13
		ADD  V1, 0x0F
LABEL4:
		DRW  V0, V1, 10
		ADD  V0, 0x08
		SE   V0, 0x33
		JP   LABEL4
		CALL FUNC4
LABEL5:
		LD   V0, K
		LD   V1, V0
		LD   I, DATA4
		ADD  I, V0
		LD   V0 - V0, [I]
		SNE  V0, 0x00
		JP   LABEL7
		CALL FUNC0
		JP   LABEL5
FUNC0:
		LD   V0, 0x10
		LD   ST, V0
		LD   DT, V0
LABEL6:
		LD   V0, DT
		SE   V0, 0x00
		JP   LABEL6
		RET  
LABEL7:
		LD   V0, 0x02
		XOR  VE, V0
		LD   V0, VE
		LD   [I], V0 - V0
		LD   I, DATA6
		LD   V0, V1
		ADD  V0, 0xFF
		ADD  V0, V0
		ADD  I, V0
		LD   V0 - V1, [I]
		LD   I, DATA2
		SE   VE, 0x03
		LD   I, DATA3
		DRW  V0, V1, 5
		CALL FUNC1
		SE   VA, 0x00
		JP   LABEL1
		LD   I, DATA4
		LD   V1, 0x00
		LD   V2, 0x00
		LD   V3, 0x01
LABEL8:
		LD   V0 - V0, [I]
		SE   V0, 0x00
		ADD  V1, 0x01
		ADD  I, V3
		ADD  V2, 0x01
		SE   V2, 0x10
		JP   LABEL8
		SE   V1, 0x10
		JP   LABEL5
		JP   LABEL1
FUNC1:
		LD   VA, 0x00
		LD   I, DATA4
		LD   V0, 0x01
		ADD  I, V0
		LD   V0 - V8, [I]
		LD   V9, 0x00
		ADD  V9, V0
		CALL FUNC2
		ADD  V9, V1
		CALL FUNC2
		ADD  V9, V2
		CALL FUNC3
		LD   V9, 0x00
		ADD  V9, V3
		CALL FUNC2
		ADD  V9, V4
		CALL FUNC2
		ADD  V9, V5
		CALL FUNC3
		LD   V9, 0x00
		ADD  V9, V6
		CALL FUNC2
		ADD  V9, V7
		CALL FUNC2
		ADD  V9, V8
		CALL FUNC3
		LD   V9, 0x00
		ADD  V9, V6
		CALL FUNC2
		ADD  V9, V3
		CALL FUNC2
		ADD  V9, V0
		CALL FUNC3
		LD   V9, 0x00
		ADD  V9, V7
		CALL FUNC2
		ADD  V9, V4
		CALL FUNC2
		ADD  V9, V1
		CALL FUNC3
		LD   V9, 0x00
		ADD  V9, V8
		CALL FUNC2
		ADD  V9, V5
		CALL FUNC2
		ADD  V9, V2
		CALL FUNC3
		LD   V9, 0x00
		ADD  V9, V8
		CALL FUNC2
		ADD  V9, V4
		CALL FUNC2
		ADD  V9, V0
		CALL FUNC3
		LD   V9, 0x00
		ADD  V9, V6
		CALL FUNC2
		ADD  V9, V4
		CALL FUNC2
		ADD  V9, V2
		CALL FUNC3
		RET  
FUNC2:
		SHL  V9 {, V0}
		SHL  V9 {, V0}
		RET  
FUNC3:
		SNE  V9, 0x15
		JP   LABEL9
		SNE  V9, 0x3F
		JP   LABEL10
		RET  
LABEL9:
		CALL FUNC4
		ADD  VB, 0x01
		JP   LABEL11
LABEL10:
		CALL FUNC4
		ADD  VC, 0x01
LABEL11:
		CALL FUNC4
		LD   VA, 0x01
		LD   V0, K
		RET  
FUNC4:
		LD   V3, 0x05
		LD   V4, 0x0A
		LD   I, DATA3
		DRW  V3, V4, 5
		LD   V3, 0x02
		ADD  V4, 0x06
		LD   I, DATA7
		LD   [I], BCD[VB]
		CALL FUNC5
		LD   V3, 0x32
		LD   V4, 0x0A
		LD   I, DATA2
		DRW  V3, V4, 5
		LD   V3, 0x2F
		ADD  V4, 0x06
		LD   I, DATA7
		LD   [I], BCD[VC]
FUNC5:
		LD   V0 - V2, [I]
		LD   I, &CHR[V0]
		CALL FUNC6
		LD   I, &CHR[V1]
		CALL FUNC6
		LD   I, &CHR[V2]
FUNC6:
		DRW  V3, V4, 5
		ADD  V3, 0x05
		RET  
DATA0:
		.DB  0x7F  ; .
DATA1:
		.DB  0x80 0x80 0x80 0x80 0x80 0x80 0x80 0x80 0x80 0x80 0x80 0x80 0x80 0x80 0x80  ; ...............
DATA2:
		.DB  0x1C 0x22 0x22 0x22 0x1C  ; .""".
DATA3:
		.DB  0x22 0x14 0x08 0x14 0x22  ; "..."
DATA4:
		.DB  0x01 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x01 0x01 0x01 0x01 0x01 0x01  ; ................
DATA5:
		.DB  0x01 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x01 0x01 0x01 0x01 0x01 0x01  ; ................
DATA6:
		.DB  0x13 0x05 0x1B 0x05 0x23 0x05 0x13 0x0D 0x1B 0x0D 0x23 0x0D 0x13 0x15 0x1B 0x15 0x23 0x15  ; ....#.....#.....#.
